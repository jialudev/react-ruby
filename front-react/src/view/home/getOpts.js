const data = {
    "nodes": [
        {
            "name": "Total"
        },
        {
            "name": "Environment"
        },
        {
            "name": "Land use"
        },
        {
            "name": "Cocoa butter o"
        },
        {
            "name": "Cocoa mass o"
        },
        {
            "name": "Hazelnuts o"
        },
        {
            "name": "Cane sugar o"
        },
        {
            "name": "Vegetables o"
        },
        {
            "name": "Climate change"
        },
        {
            "name": "Harmful substances"
        },
        {
            "name": "Water use"
        },
        {
            "name": "Resource depletion"
        },
        {
            "name": "Refrigeration"
        },
        {
            "name": "Packaging"
        },
        {
            "name": "Human rights"
        },
        {
            "name": "Child labour"
        },
        {
            "name": "Coconut oil o"
        },
        {
            "name": "Forced labour"
        },
        {
            "name": "Health safety"
        },
        {
            "name": "Access to water"
        },
        {
            "name": "Freedom of association"
        },
        {
            "name": "Access to land"
        },
        {
            "name": "Sufficient wage"
        },
        {
            "name": "Equal rights migrants"
        },
        {
            "name": "Discrimination"
        },
        {
            "name": "Working hours"
        }
    ],
    "links": [
        {
            "source": "Total",
            "target": "Environment",
            "value": 0.342284047256003
        },
        {
            "source": "Environment",
            "target": "Land use",
            "value": 0.22322870366987
        },
        {
            "source": "Land use",
            "target": "Cocoa butter o",
            "value": 0.1177682517071359
        },
        {
            "source": "Land use",
            "target": "Cocoa mass o",
            "value": 0.017241325342711
        },
        {
            "source": "Land use",
            "target": "Hazelnuts o",
            "value": 0.00433076373512774
        },
        {
            "source": "Land use",
            "target": "Cane sugar o",
            "value": 0.00296956039863467
        },
        {
            "source": "Land use",
            "target": "Vegetables o",
            "value": 0.00100453712203756
        },
        {
            "source": "Environment",
            "target": "Climate change",
            "value": 0.0112886157414413
        },
        {
            "source": "Climate change",
            "target": "Cocoa butter o",
            "value": 0.00676852971933996
        },
        {
            "source": "Climate change",
            "target": "Cocoa mass o",
            "value": 0.00394686874786743
        },
        {
            "source": "Climate change",
            "target": "Cane sugar o",
            "value": 0.000315972058711838
        },
        {
            "source": "Climate change",
            "target": "Hazelnuts o",
            "value": 0.000218969462265292
        },
        {
            "source": "Climate change",
            "target": "Vegetables o",
            "value": 3.82757532567656e-05
        },
        {
            "source": "Environment",
            "target": "Harmful substances",
            "value": 0.00604275542495656
        },
        {
            "source": "Harmful substances",
            "target": "Cocoa mass o",
            "value": 0.0055125989240741
        },
        {
            "source": "Harmful substances",
            "target": "Cocoa butter o",
            "value": 0.000330017607892127
        },
        {
            "source": "Harmful substances",
            "target": "Cane sugar o",
            "value": 0.000200138892990337
        },
        {
            "source": "Harmful substances",
            "target": "Hazelnuts o",
            "value": 0
        },
        {
            "source": "Harmful substances",
            "target": "Vegetables o",
            "value": 0
        },
        {
            "source": "Environment",
            "target": "Water use",
            "value": 0.00148345269044703
        },
        {
            "source": "Water use",
            "target": "Cocoa butter o",
            "value": 0.00135309891304186
        },
        {
            "source": "Water use",
            "target": "Cocoa mass o",
            "value": 0.000105714137908639
        },
        {
            "source": "Water use",
            "target": "Hazelnuts o",
            "value": 1.33452642581887e-05
        },
        {
            "source": "Water use",
            "target": "Cane sugar o",
            "value": 8.78074837009238e-06
        },
        {
            "source": "Water use",
            "target": "Vegetables o",
            "value": 2.5136268682477e-06
        },
        {
            "source": "Environment",
            "target": "Resource depletion",
            "value": 0.000240519729288764
        },
        {
            "source": "Resource depletion",
            "target": "Cane sugar o",
            "value": 0.000226237279345084
        },
        {
            "source": "Resource depletion",
            "target": "Vegetables o",
            "value": 1.42824499436793e-05
        },
        {
            "source": "Resource depletion",
            "target": "Hazelnuts o",
            "value": 0
        },
        {
            "source": "Resource depletion",
            "target": "Cocoa mass o",
            "value": 0
        },
        {
            "source": "Resource depletion",
            "target": "Cocoa butter o",
            "value": 0
        },
        {
            "source": "Environment",
            "target": "Refrigeration",
            "value": 0
        },
        {
            "source": "Environment",
            "target": "Packaging",
            "value": 0
        },
        {
            "source": "Total",
            "target": "Human rights",
            "value": 0.307574096993239
        },

        {
            "source": "Forced labour",
            "target": "Hazelnuts o",
            "value": 0.0114913076376389
        },
        {
            "source": "Forced labour",
            "target": "Cocoa butter o",
            "value": 0.0081134807347
        },
        {
            "source": "Forced labour",
            "target": "Cocoa mass o",
            "value": 0.00765230236575
        },

        {
            "source": "Forced labour",
            "target": "Vegetables o",
            "value": 0.00296668823626667
        },
        {
            "source": "Human rights",
            "target": "Health safety",
            "value": 0.0345435327843611
        },
        {
            "source": "Health safety",
            "target": "Hazelnuts o",
            "value": 0.0121419536385
        },

        {
            "source": "Health safety",
            "target": "Cocoa butter o",
            "value": 0.0121419536385
        },
        {
            "source": "Health safety",
            "target": "Coconut oil o",
            "value": 0.0121419536385
        },
        {
            "source": "Health safety",
            "target": "Cane sugar o",
            "value": 0.0121419536385
        },
        {
            "source": "Health safety",
            "target": "Vegetables o",
            "value": 0.00271934613075556
        },
        {
            "source": "Human rights",
            "target": "Access to water",
            "value": 0.0340206659360667
        },
        {
            "source": "Access to water",
            "target": "Cocoa mass o",
            "value": 0.0105
        },
        {
            "source": "Access to water",
            "target": "Cocoa butter o",
            "value": 0.0089274160792
        },
        {
            "source": "Access to water",
            "target": "Hazelnuts o",
            "value": 0.0054148022845
        },
        {
            "source": "Access to water",
            "target": "Cane sugar o",
            "value": 0.00333938149786667
        },
        {
            "source": "Access to water",
            "target": "Vegetables o",
            "value": 0.00314663377488889
        },
        {
            "source": "Access to water",
            "target": "Coconut oil o",
            "value": 0.00269243229961111
        },
        {
            "source": "Human rights",
            "target": "Freedom of association",
            "value": 0.0320571523941667
        },
        {
            "source": "Freedom of association",
            "target": "Hazelnuts o",
            "value": 0.0132312483463611
        },
        {
            "source": "Freedom of association",
            "target": "Cocoa butter o",
            "value": 0.0077695200707
        },
        {
            "source": "Freedom of association",
            "target": "Cocoa mass o",
            "value": 0.00510606573995
        },
        {
            "source": "Freedom of association",
            "target": "Vegetables o",
            "value": 0.00354321156324444
        },
        {
            "source": "Freedom of association",
            "target": "Cane sugar o",
            "value": 0.00240710667391111
        },
        {
            "source": "Freedom of association",
            "target": "Coconut oil o",
            "value": 0
        },
        {
            "source": "Human rights",
            "target": "Access to land",
            "value": 0.0315022209894056
        },
        {
            "source": "Access to land",
            "target": "Hazelnuts o",
            "value": 0.00964970063322223
        },
        {
            "source": "Access to land",
            "target": "Cocoa mass o",
            "value": 0.00938530207965
        },
        {
            "source": "Access to land",
            "target": "Cocoa butter o",
            "value": 0.0060110791848
        },
        {
            "source": "Access to land",
            "target": "Cane sugar o",
            "value": 0.00380818314608889
        },
        {
            "source": "Access to land",
            "target": "Vegetables o",
            "value": 0.00264795594564445
        },
        {
            "source": "Access to land",
            "target": "Coconut oil o",
            "value": 0
        },
        {
            "source": "Human rights",
            "target": "Sufficient wage",
            "value": 0.0287776757227333
        },
        {
            "source": "Sufficient wage",
            "target": "Cocoa mass o",
            "value": 0.00883512456493333
        },
        {
            "source": "Sufficient wage",
            "target": "Cocoa butter o",
            "value": 0.0078343367268
        },
        {
            "source": "Sufficient wage",
            "target": "Coconut oil o",
            "value": 0.00347879026511111
        },
        {
            "source": "Sufficient wage",
            "target": "Hazelnuts o",
            "value": 0.00316254211388889
        },
        {
            "source": "Sufficient wage",
            "target": "Vegetables o",
            "value": 0.00281013722808889
        },
        {
            "source": "Sufficient wage",
            "target": "Cane sugar o",
            "value": 0.00265674482391111
        },
        {
            "source": "Human rights",
            "target": "Equal rights migrants",
            "value": 0.0271146645119444
        },
        {
            "source": "Equal rights migrants",
            "target": "Cocoa butter o",
            "value": 0.0071042315061
        },
        {
            "source": "Equal rights migrants",
            "target": "Cocoa mass o",
            "value": 0.00636673210005
        },
        {
            "source": "Equal rights migrants",
            "target": "Hazelnuts o",
            "value": 0.00601459775836111
        },
        {
            "source": "Equal rights migrants",
            "target": "Coconut oil o",
            "value": 0.00429185583138889
        },
        {
            "source": "Equal rights migrants",
            "target": "Cane sugar o",
            "value": 0.00182647471915556
        },
        {
            "source": "Equal rights migrants",
            "target": "Vegetables o",
            "value": 0.00151077259688889
        },
        {
            "source": "Human rights",
            "target": "Discrimination",
            "value": 0.0211217763359833
        },
        {
            "source": "Discrimination",
            "target": "Cocoa mass o",
            "value": 0.00609671700306667
        },
        {
            "source": "Discrimination",
            "target": "Cocoa butter o",
            "value": 0.0047738806325
        },
        {
            "source": "Discrimination",
            "target": "Coconut oil o",
            "value": 0.00368119084494444
        },
        {
            "source": "Discrimination",
            "target": "Vegetables o",
            "value": 0.00286009813604444
        },
        {
            "source": "Discrimination",
            "target": "Cane sugar o",
            "value": 0.00283706180951111
        },
        {
            "source": "Discrimination",
            "target": "Hazelnuts o",
            "value": 0.000872827909916666
        },
        {
            "source": "Human rights",
            "target": "Working hours",
            "value": 0.02082642898975
        },
        {
            "source": "Working hours",
            "target": "Hazelnuts o",
            "value": 0.0107216773848333
        },
        {
            "source": "Working hours",
            "target": "Coconut oil o",
            "value": 0.00359009052944444
        },
        {
            "source": "Working hours",
            "target": "Vegetables o",
            "value": 0.00212300379075556
        },
        {
            "source": "Working hours",
            "target": "Cocoa butter o",
            "value": 0.0018518584356
        },
        {
            "source": "Working hours",
            "target": "Cocoa mass o",
            "value": 0.00158227069058333
        },
        {
            "source": "Working hours",
            "target": "Cane sugar o",
            "value": 0.000957528158533333
        }
    ]
}

// data.links.forEach(item => {
//     item.value = Math.random().toFixed(2)
// })


export const option_flow = {
    title: {
        text: 'Sankey Diagram',

        textStyle: {
            color: '#00e74d'
        },
        left: '4%',
        // top: '-4%',
    },
    tooltip: {
        trigger: 'item',
        triggerOn: 'mousemove'
    },
    series: [
        {
            type: 'sankey',
            data: data.nodes,
            links: data.links,
            emphasis: {
                focus: 'adjacency'
            },
            levels: [
                {
                    depth: 0,
                    itemStyle: {
                        color: '#fbb4ae'
                    },
                    lineStyle: {
                        color: 'source',
                        opacity: 0.6
                    }
                },
                {
                    depth: 1,
                    itemStyle: {
                        color: '#b3cde3'
                    },
                    lineStyle: {
                        color: 'source',
                        opacity: 0.6
                    }
                },
                {
                    depth: 2,
                    itemStyle: {
                        color: '#ccebc5'
                    },
                    lineStyle: {
                        color: 'source',
                        opacity: 0.6
                    }
                },
                {
                    depth: 3,
                    itemStyle: {
                        color: '#decbe4'
                    },
                    lineStyle: {
                        color: 'source',
                        opacity: 0.6
                    }
                }
            ],
            lineStyle: {
                curveness: 0.5
            }
        }
    ]
}


// 中间这个应该要链接socket
export const option_day = (data) => {
    const [data1 = [], data2 = [0]] = data || []
    return {
        title: {
            textStyle: {
                color: '#00e74d'
            },
            text: "日负荷曲线",
            left: '4%',
            // top: "%",
        },
        grid: {
            x: "10%",
            y: "34%",
            x2: "6%",
            y2: "23%",
        },

        //提示框组件
        tooltip: {
            show: true,
            // alwaysShowContent:true,
            triggerOn: 'mousemove',
            // position: ['50%', '50%'],
            trigger: 'axis',
            axisPointer: {
                // type: 'line',
                // snap:true,
                label: {
                    backgroundColor: '#6a7985'
                }
            }
        },
        toolbox: {
            right: "14%",
            y: '1%',
            show: false,
            iconStyle: {
                normal: {
                    borderColor: '#00f0ff', //设置颜色
                }
            },
            feature: {
                dataZoom: {
                    yAxisIndex: "none"
                },
                dataView: {
                    readOnly: false
                },
                magicType: {
                    type: ["line", "bar"]
                },
                restore: {},
                saveAsImage: {},
            },

        },
        //图例
        legend: {
            textStyle: {
                color: '#00f0ff',
            },
            y: '2%',
            data: ['昨日', '今日']
        },
        //横轴
        xAxis: {
            data: (function () {
                var arr = [];
                for (var i = 0; i < 24; i++) {
                    for (var j = 0; j < 6; j++) {
                        for (var k = 0; k < 10; k++) {
                            var mytime = i + ":" + j + k;
                            // console.log(mytime)
                            // console.log(typeof mytime);
                            arr.push(mytime);
                        }
                    }
                }
                // console.log(arr);
                return arr;
            })(),
            axisLabel: {
                show: true,
                textStyle: {
                    color: '#00f0ff'
                }
            },

            axisLine: {
                lineStyle: {
                    type: 'solid',
                    color: '#00f0ff', //左边线的颜色
                    width: '2' //坐标线的宽度
                }
            },
        },
        //纵轴
        yAxis: {

            // min: function (value) {
            //     return value.min - 200;
            // },
            splitLine: {
                show: false
            },
            name: "单位：(kW)",
            min: 0,
            boundaryGap: ['4%', '10%'],
            scale: true,
            axisLabel: {
                show: true,
                textStyle: {
                    color: '#00f0ff'
                }
            },

            axisLine: {
                lineStyle: {
                    type: 'solid',
                    color: '#00f0ff', //左边线的颜色
                    width: '2' //坐标线的宽度
                }
            },
        },
        //系列列表。每个系列通过type决定自己的图表类型
        series: [{
            name: "昨日",
            //折线图
            type: "line",
            smooth: true,
            data: data1,
            itemStyle: { //改变折线线条颜色
                normal: {
                    // color: "#2ec7c9",
                    // color: pie_color[2],
                    color: "#fbb03b",

                    lineStyle: {
                        // color: "#2ec7c9"
                        // color: pie_color[2],
                        color: "#fbb03b"

                    }
                }
            },
            markPoint: {
                data: [{
                    type: "max",
                    name: "最大值"
                },
                {
                    type: "min",
                    name: "最小值"
                }
                ]
            },
            markLine: {
                data: [{
                    type: "average",
                    name: "平均值"
                }]
            }
        },
        {
            name: "今日",
            //折线图
            type: "line",
            smooth: true,
            data: data2,
            itemStyle: { //改变折线线条颜色
                normal: {
                    // color: "#b6a2de",
                    color: "#29aae1",
                    lineStyle: {
                        // color: "#b6a2de",
                        color: "#29aae1",
                    }
                }
            },
            markPoint: {
                data: [{
                    type: "max",
                    name: "最大值"
                },
                {
                    type: "min",
                    name: "最小值"
                }
                ]
            },
            markLine: {
                data: [{
                    type: "average",
                    name: "平均值"
                }]
            }
        }
        ]
    }
}


//上月本月
export const option_compare = (opts) => {
    const [data1 = [0], data2 = [], data3 = [], data4 = []] = opts || []
    return {
        title: {
            text: '用量对比图',
            left: '4%',
            // top: "-2.5%",
            // y: '1%',
            textStyle: {
                color: '#00e74d'
            },
        },
        grid: {
            x: "10%",
            y: "30%",
            x2: "6%",
            y2: "28%",
        },
        // tooltip: {
        //     trigger: 'axis'
        // },
        //提示框组件
        tooltip: {
            confine: true,
            // position: [0, '50%'],
            show: true,
            // alwaysShowContent:true,
            triggerOn: 'mousemove',

            // position: ['50%', '50%'],
            trigger: 'axis',
            axisPointer: {
                // type: 'line',
                // snap:true,
                label: {
                    backgroundColor: '#6a7985'
                }
            },
            // 自定义提示框
            formatter: function (values) {

                var res = '';
                if (values[0]) {
                    res += values[0].name + '<br>';
                } else {
                    res += values.name + '<br>';
                }
                var val = 0;
                for (var j = 1, length = values.length; j < length; j++) {
                    if (values[j].data && (values[j].data !== "-")) {
                        val += values[j].data;
                    }
                }
                if (!val) {
                    val = "-"
                }
                for (var i = 0, tlength = values.tlength; i < tlength; i++) {
                    // 峰谷平是比值
                    if (i == 1 || i == 2 || i == 3) {
                        if (values[i].value && val && (values[i].value !== "-")) {
                            values[i].value = ((values[i].value / val) * 100).toFixed(1) + "%";
                        }
                    }
                    if (i == 0) {
                        res = res + "&nbsp;&nbsp;&nbsp;&nbsp;" + values[2].seriesName.substring(0, 7) + "总：" + val;
                    }

                    res += '<span style="display:inline-block;margin-right:5px;border-radius:50%;width:9px;height:9px;background-color:' + values[i].color + '"></span>' + values[i].seriesName + ':' + values[i].value + '<br>';
                }
                // res = res + '总量：' + val;

                return res;
            }
        },
        legend: {
            textStyle: {
                color: '#00f0ff',
            },
            y: '1%',
            // right: "43%",
            data: ['2019-04', '2023-12峰时', '2023-12平时', '2023-12谷时']
        },
        toolbox: {
            iconStyle: {
                normal: {
                    borderColor: '#00f0ff', //设置颜色
                }
            },
            right: "14%",
            y: '1%',
            show: false,
            feature: {
                dataZoom: {
                    yAxisIndex: "none"
                },
                dataView: {
                    readOnly: false
                },
                magicType: {
                    type: ["line", "bar"]
                },
                restore: {},
                saveAsImage: {},
            },

        },
        calculable: true,
        xAxis: [{
            type: 'category',
            data: (function () { //时间
                var res = [];
                var len = 1;
                while (len < 32) {
                    res.push(len);
                    len++;
                }
                return res;
            })(),
            axisLabel: {
                show: true,
                textStyle: {
                    color: '#00f0ff'
                }
            },
            axisLine: {
                lineStyle: {
                    type: 'solid',
                    color: '#00f0ff', //左边线的颜色
                    width: '2' //坐标线的宽度
                }
            },
        }],
        yAxis: [{
            min: 0,
            boundaryGap: ['10%', '10%'],
            splitLine: {
                show: false
            },
            type: 'value',
            name: "单位：(kWh)",
            scale: true,
            axisLabel: {
                show: true,
                textStyle: {
                    color: '#00f0ff'
                }
            },

            axisLine: {
                lineStyle: {
                    type: 'solid',
                    color: '#00f0ff', //左边线的颜色
                    width: '2' //坐标线的宽度
                }
            },
        }],
        series: [{
            barMaxWidth: 30,
            name: '2023-21',
            type: 'bar',
            data: data1,
            itemStyle: { //改变折线线条颜色
                normal: {
                    // color: "#2ec7c9",
                    color: "#29aae1",
                    lineStyle: {
                        // color: "#2ec7c9"
                        color: "#29aae1",
                    }
                }
            },
            markPoint: {
                data: [{
                    type: 'max',
                    name: '最大值'
                },
                {
                    type: 'min',
                    name: '最小值'
                }
                ]
            },
        },
        {
            barMaxWidth: 30,
            name: '2023-12峰时',
            type: 'bar',
            stack: "总量",
            data: data2,
            itemStyle: { //改变折线线条颜色
                normal: {
                    // color: "#516bf0",
                    // color: "rgba(243,151,0,1)",
                    color: "rgba(227,112,57,1)",
                    lineStyle: {
                        // color: "#516bf0",
                        color: "rgba(227,112,57,1)",

                    }
                }
            },


        }, {
            barMaxWidth: 30,
            name: '2023-12平时',
            type: 'bar',
            stack: "总量",
            data: data3,
            itemStyle: { //改变折线线条颜色
                normal: {
                    // color: pie_color[6],
                    color: "rgba(236,220,0,1)",
                    lineStyle: {
                        // color: pie_color[6],
                        color: "rgba(236,220,0,1)",
                    }
                }
            }

        }, {
            barMaxWidth: 30,
            name: '2023-12谷时',
            type: 'bar',
            stack: "总量",
            data: data4,
            itemStyle: { //改变折线线条颜色
                normal: {
                    color: "rgba(136,193,34,1)",
                    lineStyle: {
                        color: "rgba(136,193,34,1)",
                    }
                }
            }
        },
        ]
    }
}

const pie_color = [
    "#07dbff",
    "#fcd116",
    "#5db25d",
    "#dbf4f9",
    "#f3954d",
    "#93ddc4",
    "#ffc485",
    "#bbd165",
    "#696491",
    "#8be87e",
    "#fd90b0"
]


export const option_pie = {
    title: {
        text: '月消耗占比',

        top: "6px",
        // x: 'center',
        left: 'center',
        textStyle: { //设置主标题风格
            color: '#00e74d', //设置主标题字体颜色
        },
    },
    tooltip: {
        trigger: 'item',
        formatter: "{a} <br/>{b} : {c} ({d}%)"
    },
    color: pie_color,
    legend: {
        orient: 'vertical',
        right: '40',
        top: "160",
        textStyle: {
            color: '#00f0ff'
        },
        data: ['1月', '2月', '3月', '4月', '5月']
    },
    series: [{
        name: '综合能耗',
        type: 'pie',
        radius: '50%',
        center: ['50%', '56%'],
        label: {
            normal: {
                formatter: '{d}%',
                rich: {
                    a: {
                        color: '#999',
                        lineHeight: 22,
                        align: 'center'
                    },
                    hr: {
                        borderColor: '#aaa',
                        width: '100%',
                        borderWidth: 0.5,
                        height: 0
                    },
                    b: {
                        fontSize: 16,
                        lineHeight: 33
                    },
                    per: {
                        color: '#eee',
                        backgroundColor: '#334455',
                        padding: [2, 4],
                        borderRadius: 2
                    }
                }
            }
        },



        data: [{
            value: 10,
            name: '1月'
        },
        {
            value: 20,
            name: '2月'
        },
        {
            value: 30,
            name: '3月'
        },
        {
            value: 50,
            name: '4月'
        },
        {
            value: 20,
            name: '5月'
        }
        ],
        emphasis: {
            itemStyle: {
                shadowBlur: 10,
                shadowOffsetX: 0,
                shadowColor: 'rgba(0, 0, 0, 0.5)'
            }
        }
    },

    ]
};